---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const allBlogPosts = await getCollection("blog");
---

<BaseLayout title="yeoularu">
  <section class="flex flex-col gap-8">
    <a
      href="/seungtae-oh"
      class:list={[
        "no-underline not-format w-fit",
        "text-gray-900 bg-white",
        "border border-gray-300",
        "focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100",
        "font-medium text-sm rounded-lg px-5 py-2.5",
        "inline-flex items-center gap-2 me-2",
        "dark:bg-gray-800 dark:text-white dark:border-gray-600",
        "dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",
      ]}
    >
      <img class="w-6 h-6" src="/favicon.svg" alt="avatar" />
      Seungtae Oh
    </a>

    <div class="format-headings:mb-2">
      <h3 transition:name="ui-posts">Posts</h3>
      <div class="flex flex-col gap-4">
        {
          allBlogPosts.slice(0, 5).map((post) => (
            <a
              href={`/posts/${post.slug}`}
              class:list={[
                "focus:outline-none hover:bg-gray-100 focus:bg-gray-100",
                "font-medium rounded-lg px-5 py-2.5",
                "inline-flex items-center gap-2 me-2",
                "dark:hover:bg-gray-800  dark:focus:bg-gray-800",
              ]}
              transition:name={post.id}
              transition:animate="none"
            >
              {post.data.title}
            </a>
          ))
        }

        <a
          href="/posts"
          class:list={[
            "no-underline w-fit ml-auto",
            "focus:outline-none hover:bg-gray-100 focus:bg-gray-100",
            "font-medium rounded-lg pl-5 pr-3 py-2.5",
            "inline-flex items-center me-2",
            "dark:hover:bg-gray-800  dark:focus:bg-gray-800",
          ]}
        >
          All Posts
          <svg
            class="w-6 h-6"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1.5"
              d="m10 16 4-4-4-4"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>
</BaseLayout>
